<div class="md-padding-left md-padding-right">
    <h3 layout="row" layout-align="start center"><md-button class="md-icon-button" ng-click="resetSheet()"><md-icon>arrow_back</md-icon></md-button> <span translate>Risk sheet</span></h3>

    <table class="md-html-table">
        <tbody>
        <tr>
            <td class="bold txtright" translate>Instance:</td>
            <td class="bold"><md-icon ng-if="instanceCache[sheet_risk.instance].scope == 2" class="md-tree-global-icon">language</md-icon>{{ instanceCache[sheet_risk.instance][_langField('label')] }}</td>
        </tr>
        <tr>
            <td class="bold txtright" style="width: 250px" translate>Threat:</td>
            <td>{{ sheet_risk[_langField('threatDescription')] }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Vulnerability:</td>
            <td>{{ sheet_risk[_langField('vulnDescription')] }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Observations:</td>
            <td>{{ sheet_risk.comment }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Threat probability:</td>
            <td>{{ sheet_risk.threatRate }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Vulnerability qualification:</td>
            <td>{{ sheet_risk.vulnerabilityRate }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Measure #1:</td>
            <td>{{ sheet_risk.measure1.code }} - {{ sheet_risk.measure1[_langField('description')] }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Measure #2:</td>
            <td>{{ sheet_risk.measure2.code }} - {{ sheet_risk.measure2[_langField('description')] }}</td>
        </tr>
        <tr>
            <td class="bold txtright" translate>Measure #3:</td>
            <td>{{ sheet_risk.measure3.code }} - {{ sheet_risk.measure3[_langField('description')] }}</td>
        </tr>
        </tbody>
    </table>

    <form class="md-padding">
        <md-input-container class="md-block">
            <label translate>Processing type</label>
            <md-icon>widgets</md-icon>
            <md-select ng-model="sheet_risk.kindOfMeasure" ng-disabled="isAnrReadOnly">
                <md-option ng-value="5">{{ 'Not processed' | translate }}</md-option>
                <md-option ng-value="1">{{ 'Reduction' | translate }}</md-option>
                <md-option ng-value="2">{{ 'Denied' | translate }}</md-option>
                <md-option ng-value="3">{{ 'Accepted' | translate }}</md-option>
                <md-option ng-value="4">{{ 'Shared' | translate }}</md-option>
            </md-select>
        </md-input-container>

        <md-input-container class="md-block">
            <label translate>Reduce vulnerability by</label>
            <md-icon>trending_down</md-icon>
            <md-select ng-model="sheet_risk.reductionAmount" ng-disabled="isAnrReadOnly">
                <md-option ng-repeat="i in reducAmount" ng-value="{{ i }}">{{ i }}</md-option>
            </md-select>
        </md-input-container>

        <div layout="row" layout-align="end center">
            <md-button class="md-raised md-primary" ng-disabled="isAnrReadOnly" ng-click="saveRiskSheet(sheet_risk)">{{ 'Save changes' | translate }}</md-button>
        </div>
    </form>

    <ng-include ng-if="OFFICE_MODE == 'FO'" monarc-mode="information" ng-controller="RiskRecommendationPartialCtrl" src="'/views/anr/_risk_rec_form.html'"></ng-include>
</div>
