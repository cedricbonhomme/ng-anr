<div class="md-padding" ng-controller="AnrSoaCtrl">
    <p class="md-title" translate>Statement of applicability</p>

    <div layout="row" layout-align="space-between end">
    <md-button class="md-icon-button" ng-if="!isAnrReadOnly" ng-click="export()"><md-icon class="md-warn">file_download</md-icon><md-tooltip>{{ 'Export' | translate }} (CSV)</md-tooltip></md-button>
    </div>

    <table class="md-html-table" editable callback="onTableEdited">
        <thead>
        <tr>
            <th translate>Ref.</th>
            <th translate>Control</th>
            <th translate>Requirement</th>
            <th translate>Justification for inclusion/exclusion</th>
            <th translate>Evidences</th>
            <th translate>Actions</th>
            <th translate>level of compliance</th>
        </tr>
        </thead>

                <tbody>
                <tr edit-model="soa" ng-repeat="soa in soas">
                    <td  class="txtcenter"> <md-button class=" md-primary" ui-sref="main.project.anr.soa.sheet({modelId: model.anr.id, soaId: soa.id})">{{ soa.reference }}</md-button></td>
                    <td  class="txtcenter">{{ soa.control }}</td>
                    <td class="txtcenter">{{ soa.requirement }}   </td>
                    <td edit-field="justification" class="preserve-newlines"  edit-type="textarea"></td>
                    <td edit-field="evidences" edit-type="textarea"></td>
                    <td edit-field="actions" edit-placeholder="" edit-type="textarea"></td>
                    <td edit-field="compliance" edit-placeholder="" edit-type="textarea" style="background : #FA5858  " ng-if=" soa.compliance == 0 " ></td>
                    <td edit-field="compliance" edit-placeholder="" edit-type="textarea" style="background : #FE9A2E " ng-if=" soa.compliance == 25 " ></td>
                    <td edit-field="compliance" edit-placeholder="" edit-type="textarea" style="background : #FFFF00 " ng-if=" soa.compliance == 50 " ></td>
                    <td edit-field="compliance" edit-placeholder="" edit-type="textarea" style="background : #BFFF00 " ng-if=" soa.compliance == 75 " ></td>
                    <td edit-field="compliance" edit-placeholder="" edit-type="textarea" style="background : #00FF00 " ng-if=" soa.compliance == 100 " ></td>
                    <td edit-field="compliance" edit-placeholder="" edit-type="textarea" style="background : none " ng-if=" soa.compliance != 0 && soa.compliance != 25 && soa.compliance != 50 && soa.compliance != 75 && soa.compliance != 100  " ></td>


                </tr>
                </tbody>

    </table>
</div>
