<div class="md-padding" ng-controller="AnrSoaSheetCtrl">
    <md-button ng-click="backToList()"><md-icon>arrow_back</md-icon> {{ 'Back to the list' | translate }}</md-button>

    <div layout="row" layout-align="space-between end">
      <p class="md-title">{{ soa.reference }}-{{ soa.control }}  </p>
      <md-button class="md-icon-button" ng-if="!isAnrReadOnly" ng-click="exportSoaSheet()"><md-icon class="md-warn">file_download</md-icon><md-tooltip>{{ 'Export' | translate }} (CSV)</md-tooltip></md-button>
    </div>
    <table class="md-html-table"  >
        <thead>
        <tr>
            <th translate style="min-width: 200px">asset</th>
            <th translate style="min-width: 200px">threat</th>
            <th translate style="min-width: 200px">vulnerability</th>
            <th translate style="min-width: 200px">Existing controls</th>
        </tr>
        </thead>

                <tbody>


                  <tr class="txtcenter" ng-repeat="risk in risks" ng-if="risk.measure1==soa.reference+tiret+soa.control || risk.measure2==soa.reference+tiret+soa.control || risk.measure3==soa.reference+tiret+soa.control">


                    <td  class="txtcenter" ng-repeat="instance in instanceCache" ng-if="instance.id ==risk.instance" > {{_langField(instance,'name')}}</td>
                    <td  class="txtcenter">{{_langField(risk,'threatLabel')}}</td>
                    <td class="txtcenter">{{_langField(risk,'vulnLabel')}}   </td>
                    <td class="txtcenter">{{risk.comment }}</td>


                  </tr>



                </tbody>

    </table>




  <!-- <md-card class="md-card-info"  ng-repeat="risk in risks" ng-if="risk.amv==amv.id">
                  <md-card-content>
                          <div  >
                            {{empty = TRUE}}

                          <b  translate>  Asset:</b  >  <b  >{{_langField(risk,'assetLabel')}} </b  >          </br  >
                          <BLOCKQUOTE>{{_langField(risk,'assetDescription')}}

                          </div  >

                          <div   >
                          <b  translate>Threat:</b  >  <b  >  {{_langField(risk,'threatLabel')}}</b  >          </br  >
                          <BLOCKQUOTE>{{_langField(risk,'threatDescription')}}

                          </div  >

                          <div   >
                          <b  translate>vulnerability:</b  >  <b  >  {{_langField(risk,'vulnLabel')}}</b  >          </br  >
                          <BLOCKQUOTE>{{_langField(risk,'vulnDescription')}}

                         </div  >


                </md-card-content>
            </md-card>
        <div ng-if="empty == FALSE" class="md-padding">
                  <em>{{ 'There are no risks for this recommandation.' | translate }}{{empty}}</em>
        </div> -->




</div  >
